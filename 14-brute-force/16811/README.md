# 16811. 당근 포장하기 | D2

## 문제 출처
[SWEA](https://swexpertacademy.com/main/code/userProblem/userProblemDetail.do?contestProbId=AYamNLoKGSgDFAVx&categoryId=AYamNLoKGSgDFAVx&categoryType=CODE)

## 💡 접근 방식 1 (시간 초과)

### 1. 사용 알고리즘
* **완전 탐색 (Brute-force)**
* **조합(Combinations)**

### 2. 문제 풀이 과정
1.  전체 당근을 세 개의 그룹으로 나누기 위해, 1부터 N-1까지의 인덱스 중 2개를 선택하는 모든 **조합**을 구합니다. 이 두 인덱스는 각 그룹을 나누는 칸막이 역할을 합니다.
2.  각 조합에 대해 세 그룹(소, 중, 대)의 길이를 계산합니다.
3.  문제의 제약 조건 두 가지를 확인합니다.
    * 한 상자에 들어가는 당근의 개수가 `N//2`를 초과하는지 확인합니다.
    * 인접한 상자 간에 동일한 크기의 당근이 있는지 **교집합(intersection)** 연산을 통해 확인합니다.
4.  두 조건을 모두 만족하는 경우에만, 세 그룹의 최대 개수와 최소 개수의 차이를 계산하고, 이 값을 기존의 최솟값(`min_diff`)과 비교하여 더 작은 값으로 갱신합니다.
5.  모든 조합을 탐색한 후, `min_diff`가 초기값 그대로이면 포장이 불가능한 경우이므로 -1을, 그렇지 않으면 계산된 최솟값을 출력합니다.

## 💡 오류 분석 및 해결

### 1. 문제 원인
* `itertools.combinations(range(1, N), 2)`를 사용하여 세 그룹으로 나누는 모든 경우의 수를 탐색하는 방식은 **O(N^2)**의 시간 복잡도를 가집니다. N의 최대 크기가 1000일 때, 약 $1000^2 = 1,000,000$번의 반복이 발생하며, 각 반복 내부에서 리스트 슬라이싱 및 집합 생성/연산을 수행하므로 **시간 초과**가 발생합니다.

### 2. 해결 방법
* 이 문제는 **이중 for문**을 사용하여 두 개의 칸막이 위치를 직접 지정하는 **O(N^2)** 방식으로 해결할 수 있습니다. `combinations`를 사용하는 현재 로직은 개념적으로 동일하지만, 반복문 내에서 이루어지는 **리스트 슬라이싱**과 **집합 생성** 과정의 오버헤드가 커서 시간 초과를 유발할 수 있습니다. 보다 직접적인 인덱스 제어와 최적화를 통해 시간 내에 문제를 해결할 수 있습니다.


## 💻 코드
* [16811.py](16811.py)


---

## 💡 접근 방식 2 (통과)

### 1. 사용 알고리즘
* **완전 탐색 (Brute-force)**
* **카운팅 (Counting)**

### 2. 문제 풀이 과정
1.  동일한 크기의 당근 개수를 효율적으로 관리하기 위해, 각 크기별 당근의 개수를 세는 **카운팅 배열** `count_arr`를 생성합니다.
2.  문제의 제약 조건인 '한 상자에 들어가는 당근의 수는 N//2를 초과할 수 없다'를 확인합니다. 만약 특정 크기의 당근 개수 하나만으로도 `N//2`를 초과한다면, 세 상자로 나누는 것이 불가능하므로 즉시 `-1`을 출력하고 종료합니다.
3.  **이중 반복문**을 사용하여, 크기 순으로 정렬된 당근들을 세 그룹(소, 중, 대)으로 나누는 모든 경우의 수를 탐색합니다. 첫 번째 반복문은 '소' 상자와 '중' 상자를 나누는 기준점을, 두 번째 반복문은 '중' 상자와 '대' 상자를 나누는 기준점을 결정합니다.
4.  각 경우의 수마다 세 상자에 담긴 당근의 총 개수를 계산하고, 각 상자의 당근 수가 `N//2`를 초과하지 않는지 확인합니다.
5.  조건을 만족하는 경우, 세 상자 간의 당근 개수 차이(최댓값 - 최솟값)를 계산하고, 이 값을 기존의 최솟값과 비교하여 더 작은 값으로 갱신합니다.
6.  모든 경우의 수에 대한 탐색이 끝난 후, 계산된 최소 차이 값을 최종 결과로 출력합니다. 만약 유효한 포장 방법이 하나도 없었다면, 초기값 그대로이므로 `-1`을 출력합니다.

## 💻 코드
* [16811v2.py](16811v2.py)
